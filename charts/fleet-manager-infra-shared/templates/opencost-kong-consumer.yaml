{{- if and (not .Values.oauth_jwks_uri) .Values.opencost.username .Values.opencost.password }}
apiVersion: configuration.konghq.com/v1
kind: KongConsumer
metadata:
  name: basic-auth
  namespace: {{ .Values.opencost.namespace }}
  annotations:
    kubernetes.io/ingress.class: kong
username: {{ .Values.opencost.username }}
credentials:
- basic-auth-creds
{{- end }}
